---
// Debug page to check environment variables
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Debug Environment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui; padding: 20px; background: #f0f0f0; }
      pre { background: #333; color: #0f0; padding: 10px; border-radius: 5px; overflow-x: auto; }
      h1 { color: #333; }
      .status { font-weight: bold; }
      .status.ok { color: green; }
      .status.error { color: red; }
    </style>
  </head>
  <body>
    <h1>üîç Environment Variables Debug</h1>
    
    <h2>Server-side (Astro):</h2>
    <p>PUBLIC_SUPABASE_URL: {import.meta.env.PUBLIC_SUPABASE_URL || '<span class="status error">NOT SET</span>'}</p>
    <p>PUBLIC_SUPABASE_ANON_KEY: {import.meta.env.PUBLIC_SUPABASE_ANON_KEY ? '<span class="status ok">‚úÖ SET (hidden)</span>' : '<span class="status error">‚ùå NOT SET</span>'}</p>

    <h2>Client-side (JavaScript):</h2>
    <div id="client-env"></div>

    <h2>Raw Environment:</h2>
    <pre id="raw-env"></pre>

    <script>
      // Check client-side environment variables
      const clientEnv = document.getElementById('client-env');
      const rawEnv = document.getElementById('raw-env');
      
      // Check if environment variables are available in browser
      const supabaseUrl = import.meta.env?.PUBLIC_SUPABASE_URL;
      const supabaseKey = import.meta.env?.PUBLIC_SUPABASE_ANON_KEY;
      
      clientEnv.innerHTML = `
        <p>PUBLIC_SUPABASE_URL: ${supabaseUrl || '<span class="status error">NOT SET</span>'}</p>
        <p>PUBLIC_SUPABASE_ANON_KEY: ${supabaseKey ? '<span class="status ok">‚úÖ SET (hidden)</span>' : '<span class="status error">‚ùå NOT SET</span>'}</p>
      `;
      
      // Show raw import.meta.env
      rawEnv.textContent = JSON.stringify(import.meta.env, null, 2);
    </script>
  </body>
</html>
